<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seguridad Catalinas Club</title>
<style>
  /* ----------------------------- General ----------------------------- */
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#1f2634;color:#f4cf19;}
  .topbar{background:#111;padding:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px rgba(0,0,0,0.5);}
  .nav-btn{background:#222;color:#f4cf19;border:none;padding:8px 12px;margin-right:5px;cursor:pointer;border-radius:5px;}
  .nav-btn.active{background:#f4cf19;color:#111;}
  .page{display:none;padding:12px;}
  .page.active{display:block;}
  button{cursor:pointer;border:none;border-radius:5px;transition:0.2s;}
  button:hover{opacity:0.8;}
  .disabled{opacity:0.4;pointer-events:none;}

  /* ----------------------------- Modales ----------------------------- */
  .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;z-index:9999;}
  .modal.active{display:flex;}
  .modal-content{background:#222;color:#f4cf19;padding:20px;border-radius:10px;max-width:500px;width:90%;box-shadow:0 0 12px #000;text-align:center;}

  /* ----------------------------- Tablas ----------------------------- */
  table{width:100%;border-collapse:collapse;margin-top:10px;}
  th,td{border:1px solid #f4cf19;padding:6px;text-align:center;font-size:14px;}
  thead th{background:#f4cf19;color:#111;font-weight:700;}
  .autorizante-th,.autorizante-td{display:table-cell;}
  .autorizante-hidden .autorizante-th,
  .autorizante-hidden .autorizante-td{display:none;}

  /* ----------------------------- Inputs y mensajes ----------------------------- */
  input, select{padding:6px;margin:4px 0;border-radius:4px;border:1px solid #444;background:#111;color:#f4cf19;width:100%;}
  #passwordBanner{display:none;background:#222;color:#f4cf19;padding:10px;text-align:center;}
  span.msg{font-weight:700;margin-left:6px;}

  /* ----------------------------- Botones especiales ----------------------------- */
  #scanBtn,#printActiveBtn,#addUserBtn,#guardarNovedadBtn{background:#f4cf19;color:#111;padding:6px 12px;margin:4px;}
  #scanBtn:hover,#printActiveBtn:hover,#addUserBtn:hover,#guardarNovedadBtn:hover{opacity:0.9;}

  /* ----------------------------- Paginación ----------------------------- */
  #pagination button{margin:2px;padding:4px 8px;border-radius:4px;background:#222;color:#f4cf19;}
  #pagination button:hover{opacity:0.8;}

  /* ----------------------------- Print styles ----------------------------- */
  @media print{
    body{color:#000;background:#fff;}
    table, th, td{border:1px solid #000;padding:1px;font-size:10px;}
    th,td{text-align:center;}
  }
</style>
</head>
<body>

<div class="topbar">
  <div>
    <button class="nav-btn active" data-section="panel">PANEL</button>
    <button class="nav-btn" data-section="usuarios">USUARIOS</button>
    <button class="nav-btn" data-section="expired">EXPIRADOS</button>
    <button class="nav-btn" data-section="novedades">NOVEDADES</button>
  </div>
  <div>
    <button id="scanBtn">ESCANEAR</button>
    <button id="printActiveBtn">IMPRIMIR</button>
  </div>
</div>

<div id="passwordBanner">
  Introduzca la contraseña para desbloquear el sistema:
  <input type="password" id="initPassInput" />
  <button id="initPassBtn">Ingresar</button>
  <span id="initPassMsg"></span>
</div>

<div id="panel" class="page active">
  <h2>PANEL</h2>
  <table id="movimientosTable">
    <thead>
      <tr>
        <th>#L</th><th>Nombre</th><th>H. Entrada</th><th>H. Salida</th><th>Tipo</th><th class="autorizante-th">Autorizante</th><th>Acciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="pagination"></div>
</div>

<div id="usuarios" class="page">
  <h2>USUARIOS</h2>
  <table id="usersTable">
    <thead>
      <tr>
        <th>#L</th><th>Nombre</th><th>DNI</th><th>Celular</th><th>Autorizante</th><th>F. Expedición</th><th>Tipo</th><th>Acciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<div id="expired" class="page">
  <h2>EXPIRADOS</h2>
  <table id="expiredTable">
    <thead>
      <tr>
        <th>#L</th><th>Nombre</th><th>DNI</th><th>Código Ingreso</th><th>Código Salida</th><th>Tipo</th><th>F. Eliminación</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="expiredPagination"></div>
</div>

<div id="novedades" class="page">
  <h2>NOVEDADES</h2>
  <textarea id="novedadTexto" rows="2" style="width:100%;"></textarea>
  <button id="guardarNovedadBtn">Guardar</button>
  <span id="novedadMsg" class="msg"></span>
  <table id="novedadesTable">
    <thead>
      <tr><th>Hora / Fecha</th><th>Texto</th><th>Acciones</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Modales -->
<div id="scanModal" class="modal">
  <div class="modal-content">
    <h3>Escaneo de Código</h3>
    <input type="text" id="scanInput" />
    <div id="scanMessage" class="msg"></div>
    <div>
      <span id="scanOk" style="display:none;color:green;font-weight:700;">OK</span>
      <button id="cancelScanBtn">Cancelar</button>
    </div>
  </div>
</div>

<div id="fichaModal" class="modal">
  <div class="modal-content">
    <h3>Ficha Usuario</h3>
    <div>#L: <span id="fichaL"></span></div>
    <div>Nombre: <span id="fichaNombre"></span></div>
    <div>DNI: <span id="fichaDni"></span></div>
    <div>Celular: <span id="fichaCelular"></span></div>
    <div>Autorizante: <span id="fichaAutorizante"></span></div>
    <div>F. Expedición: <span id="fichaFechaExp"></span></div>
    <div>Tipo: <span id="fichaTipo"></span></div>
    <button id="closeFichaBtn">Cerrar</button>
  </div>
</div>

<div id="editUserModal" class="modal">
  <div class="modal-content">
    <h3>Editar Usuario</h3>
    <select id="editUserL"></select>
    <input type="text" id="editUserNombre" placeholder="Nombre" />
    <input type="text" id="editUserDni" placeholder="DNI" />
    <input type="text" id="editUserCelular" placeholder="Celular" />
    <input type="text" id="editUserAutorizante" placeholder="Autorizante" />
    <select id="editUserTipo">
      <option value="NN">NN</option>
      <option value="propietario">Propietario</option>
      <option value="administracion">Administración</option>
      <option value="empleado">Empleado</option>
      <option value="obrero">Obrero</option>
      <option value="invitado">Invitado</option>
      <option value="guardia">Guardia</option>
    </select>
    <span id="editUserMsg" class="msg"></span>
    <div>
      <button id="finalizeEditBtn">Guardar</button>
      <button id="cancelEditBtn">Cancelar</button>
    </div>
  </div>
</div>

</body>
</html>
