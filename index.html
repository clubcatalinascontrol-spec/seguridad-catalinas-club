<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Control de Accesos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Panel de Control</h1>
    <nav>
      <button onclick="mostrarSeccion('panel')">Panel</button>
      <button onclick="mostrarSeccion('usuarios')">Usuarios</button>
      <button onclick="mostrarSeccion('config')">Config</button>
    </nav>
  </header>

  <!-- PANEL -->
  <section id="panel" class="seccion activa">
    <h2>Movimientos</h2>
    <button onclick="mostrarEscaner()">Escanear</button>
    <button onclick="imprimirMovimientos()">Imprimir Movimientos</button>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>#L</th>
          <th>Nombre</th>
          <th>DNI</th>
          <th>Tipo</th>
          <th>Fecha</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody id="tabla-movimientos"></tbody>
    </table>
  </section>

  <!-- USUARIOS -->
  <section id="usuarios" class="seccion">
    <h2>Usuarios</h2>
    <form id="form-usuario">
      <input type="number" id="lote" placeholder="#L (1-999)" required>
      <input type="text" id="nombre" placeholder="Nombre completo" maxlength="25" required>
      <input type="number" id="dni" placeholder="DNI (8 dígitos)" required>
      <select id="tipo" required>
        <option value="">Seleccionar tipo</option>
        <option value="propietario">propietario</option>
        <option value="administración">administración</option>
        <option value="empleado">empleado</option>
        <option value="obrero">obrero</option>
        <option value="invitado">invitado</option>
        <option value="guardia">guardia</option>
        <option value="otro">otro</option>
      </select>
      <button type="submit">Agregar Usuario</button>
    </form>
    <table>
      <thead>
        <tr>
          <th>#L</th>
          <th>Nombre</th>
          <th>DNI</th>
          <th>Tipo</th>
          <th>Código</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tabla-usuarios"></tbody>
    </table>
  </section>

  <!-- CONFIG -->
  <section id="config" class="seccion">
    <h2>Configuración</h2>
    <p>Restaurar contraseña por defecto: Si restaura la contraseña por defecto volverá a ser "1234"</p>
    <button onclick="restaurarContrasena()">RESTAURAR</button>
  </section>

  <!-- ESCANER -->
  <div id="overlay" class="overlay hidden">
    <div class="escaner">
      <h3>Escanear Código</h3>
      <input type="text" id="codigoEscaneo" maxlength="8" autofocus>
      <p id="resultadoEscaneo"></p>
      <button onclick="cancelarEscaneo()">Cancelar</button>
    </div>
  </div>

  <!-- EDITAR USUARIO -->
  <div id="overlay-editar" class="overlay hidden">
    <div class="escaner">
      <h3>Editar Usuario</h3>
      <input type="number" id="edit-lote" placeholder="#L (1-999)" required>
      <input type="text" id="edit-nombre" placeholder="Nombre completo" maxlength="25" required>
      <input type="number" id="edit-dni" placeholder="DNI (8 dígitos)" required>
      <select id="edit-tipo" required>
        <option value="">Seleccionar tipo</option>
        <option value="propietario">propietario</option>
        <option value="administración">administración</option>
        <option value="empleado">empleado</option>
        <option value="obrero">obrero</option>
        <option value="invitado">invitado</option>
        <option value="guardia">guardia</option>
        <option value="otro">otro</option>
      </select>
      <p id="resultadoEditar"></p>
      <button onclick="finalizarEdicion()">Finalizar</button>
      <button onclick="cancelarEdicion()">Cancelar</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
