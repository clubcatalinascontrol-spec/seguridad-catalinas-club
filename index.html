<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel de Seguridad</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="topbar">
  <button class="nav-btn active" data-section="panel">PANEL</button>
  <button class="nav-btn" data-section="usuarios">USUARIOS</button>
  <button class="nav-btn" data-section="expired">EXPIRADOS</button>
  <button class="nav-btn" data-section="novedades">NOVEDADES</button>
</div>

<div id="passwordBanner">
  <input type="password" id="initPassInput" placeholder="Contraseña">
  <button id="initPassBtn">Abrir</button>
  <span id="initPassMsg"></span>
</div>

<div class="pages">
  <div class="page active" id="panel">
    <div class="scan-section">
      <button id="scanBtn">ESCANEAR</button>
      <button id="printActiveBtn">IMPRIMIR</button>
    </div>
    <div id="scanModal" class="modal">
      <input type="text" id="scanInput" placeholder="Ingrese código">
      <button id="cancelScanBtn">CANCELAR</button>
      <span id="scanMessage"></span>
      <span id="scanOk" style="display:none;color:green">✔</span>
    </div>
    <div class="tabs">
      <button class="tab-btn active" data-tipo="todos">Todos</button>
      <button class="tab-btn" data-tipo="propietario">Propietario</button>
      <button class="tab-btn" data-tipo="empleado">Empleado</button>
      <button class="tab-btn" data-tipo="obrero">Obrero</button>
      <button class="tab-btn" data-tipo="invitado">Invitado</button>
    </div>
    <table id="movimientosTable">
      <thead>
        <tr>
          <th>#L</th>
          <th>Nombre</th>
          <th>H. Entrada</th>
          <th>H. Salida</th>
          <th>Tipo</th>
          <th class="autorizante-th">Autorizante</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div id="pagination"></div>
  </div>

  <div class="page" id="usuarios">
    <div class="user-filters">
      <button class="user-filter-btn active" data-tipo="todos">Todos</button>
      <button class="user-filter-btn" data-tipo="propietario">Propietario</button>
      <button class="user-filter-btn" data-tipo="empleado">Empleado</button>
      <button class="user-filter-btn" data-tipo="obrero">Obrero</button>
      <button class="user-filter-btn" data-tipo="invitado">Invitado</button>
    </div>
    <div class="add-user-form">
      <select id="userL"></select>
      <input type="text" id="userNombre" placeholder="Nombre">
      <input type="text" id="userDni" placeholder="DNI">
      <input type="text" id="userCelular" placeholder="Celular">
      <input type="text" id="userAutorizante" placeholder="Autorizante">
      <select id="userTipo">
        <option value="NN">NN</option>
        <option value="propietario">Propietario</option>
        <option value="empleado">Empleado</option>
        <option value="obrero">Obrero</option>
        <option value="invitado">Invitado</option>
      </select>
      <button id="addUserBtn">Agregar</button>
      <span id="userMessage"></span>
    </div>
    <table id="usersTable">
      <thead>
        <tr>
          <th>#L</th>
          <th>Nombre</th>
          <th>DNI</th>
          <th>Celular</th>
          <th>Autorizante</th>
          <th>Fecha Exp.</th>
          <th>Tipo</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="page" id="expired">
    <table id="expiredTable">
      <thead>
        <tr>
          <th>#L</th>
          <th>Nombre</th>
          <th>DNI</th>
          <th>Cód. Ingreso</th>
          <th>Cód. Salida</th>
          <th>Tipo</th>
          <th>F. Eliminación</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div id="expiredPagination"></div>
  </div>

  <div class="page" id="novedades">
    <textarea id="novedadTexto" placeholder="Nueva novedad"></textarea>
    <button id="guardarNovedadBtn">Guardar</button>
    <span id="novedadMsg"></span>
    <table id="novedadesTable">
      <thead>
        <tr>
          <th>Hora/Fecha</th>
          <th>Texto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<!-- FICHA modal -->
<div id="fichaModal" class="modal">
  <div class="modal-content">
    <span id="closeFichaBtn">Cerrar</span>
    <div>Lote: <span id="fichaL"></span></div>
    <div>Nombre: <span id="fichaNombre"></span></div>
    <div>DNI: <span id="fichaDni"></span></div>
    <div>Celular: <span id="fichaCelular"></span></div>
    <div>Autorizante: <span id="fichaAutorizante"></span></div>
    <div>Fecha Exp.: <span id="fichaFechaExp"></span></div>
    <div>Tipo: <span id="fichaTipo"></span></div>
  </div>
</div>

<!-- Editar usuario modal -->
<div id="editUserModal" class="modal">
  <div class="modal-content">
    <input id="editUserL" disabled>
    <input id="editUserNombre">
    <input id="editUserDni">
    <input id="editUserCelular">
    <input id="editUserAutorizante">
    <select id="editUserTipo">
      <option value="NN">NN</option>
      <option value="propietario">Propietario</option>
      <option value="empleado">Empleado</option>
      <option value="obrero">Obrero</option>
      <option value="invitado">Invitado</option>
    </select>
    <button id="finalizeEditBtn">Guardar cambios</button>
    <button id="cancelEditBtn">Cancelar</button>
    <span id="editUserMsg"></span>
  </div>
</div>

<script type="module" src="app.js"></script>
</body>
</html>
