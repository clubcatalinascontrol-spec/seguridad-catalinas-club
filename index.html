<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Control de acceso y egreso de Catalinas Country</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Control de acceso y egreso de Catalinas Country</h1>

  <nav>
    <button onclick="showSection('panel')">Panel</button>
    <button onclick="showSection('usuarios')">Gestión de Usuarios</button>
    <button onclick="showSection('config')">Config</button>
  </nav>

  <!-- Panel de movimientos -->
  <section id="panel" class="active">
    <h2>Movimientos</h2>
    <button onclick="openScanner()">Escanear</button>
    <button onclick="printMovements()">Imprimir movimientos</button>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Usuario</th>
          <th>Tipo</th>
          <th>Hora</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody id="movimientosTable"></tbody>
    </table>
  </section>

  <!-- Gestión de usuarios -->
  <section id="usuarios">
    <h2>Gestión de Usuarios</h2>
    <form id="usuarioForm">
      <input type="text" id="codigo" placeholder="#L (num, max 3)" maxlength="3" required>
      <input type="text" id="nombre" placeholder="Nombre Completo (max 30)" maxlength="30" required>
      <button type="submit">Agregar Usuario</button>
    </form>
    <ul id="usuariosList"></ul>
  </section>

  <!-- Configuración -->
  <section id="config">
    <h2>Cambiar Contraseña</h2>
    <p>La contraseña debe estar compuesta únicamente por 4 números. Se usará para editar/eliminar usuarios y movimientos en el panel y para imprimir las tarjetas de cada usuario</p>
    <input type="password" id="newPassword" maxlength="4" placeholder="Nueva contraseña">
    <button onclick="changePassword()">Guardar</button>
  </section>

  <!-- Modal de escaneo -->
  <div id="scannerModal" class="modal">
    <div class="modal-content">
      <h3>Escanear código</h3>
      <input type="text" id="scannerInput" maxlength="8" autofocus>
      <div>
        <button onclick="cancelScan()">Cancelar</button>
      </div>
    </div>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>
